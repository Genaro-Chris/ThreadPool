name: MACOS CI
on: 
 push: 
   branches: ["main"]

jobs:
  build-and-test:
    strategy: 
      matrix:
        swift: [5.5, 5.6, 5.7, 5.8, 5.9]
    runs-on: macos-12
    steps:
    - uses: actions/checkout@v2
      with:
        submodules: true
    - name: Build
      run: swift build
    - name: Run tests
      run: swift test
